package com.hck.zhuanqian.ui;import org.json.JSONObject;import android.os.Bundle;import android.view.View;import android.webkit.WebView;import com.dlnetwork.DevInit;import com.dlnetwork.GetTotalMoneyListener;import com.dlnetwork.SetTotalMoneyListener;import com.dlnetwork.SpendMoneyListener;import com.hck.httpserver.JsonHttpResponseHandler;import com.hck.httpserver.RequestParams;import com.hck.kedouzq.R;import com.hck.zhuanqian.data.Contans;import com.hck.zhuanqian.net.Request;import com.hck.zhuanqian.util.LogUtil;import com.hck.zhuanqian.view.MyToast;/** *  * @author *  */public class DLActivity extends BaseActivity implements GetTotalMoneyListener,		SetTotalMoneyListener, SpendMoneyListener {	private int point;	private int cishu = 0;	private WebView webView;	@Override	protected void onCreate(Bundle savedInstanceState) {		super.onCreate(savedInstanceState);		initDL();		setContentView(R.layout.activity_play_dl);		initTitle("小乐专区");		initView();		getAdInitData();		initDownSize(findViewById(R.id.down_size));		initDate();	}	private void initView() {		initTitle("点乐赚钱专区");		webView = (WebView) findViewById(R.id.dianle_webview);	}	private void initDate() {		webView.loadUrl("file:///android_asset/dianle.html");	}	// 初始化点乐广告	private void initDL() {		try {			DevInit.initGoogleContext(this, Contans.DIAN_LE_KEY);		} catch (Exception e) {			MyToast.showCustomerToast("初始化失败 请重试");		}	}	public void startGetMoney(View view) {	    showDL();	}	private void showDL() { // 展示点乐积分墙		try {			DevInit.showOffers(this);		} catch (Exception e) {			MyToast.showCustomerToast("打开任务失败 请重试");		}	}	private void getMoney() { // 点乐sdk，获取积分		try {			DevInit.getTotalMoney(this, this);		} catch (Exception e) {			MyToast.showCustomerToast("获取金币失败 请检查您的网络");		}	}	@Override	public void getTotalMoneyFailed(String arg0) {	}	@Override	public void getTotalMoneySuccessed(String arg0, long arg1) {		try {			point = 0;			if (arg1 > 1) {				point = (int) arg1;				savePoint(Contans.AD_NAME_DIANLE, point);				DevInit.spendMoney(this, (int) arg1, this);			}		} catch (Exception e) {		}	}	@Override	public void setTotalMoneyFailed(String arg0) {		MyToast.showCustomerToast("初始化数据失败，请重试");	}	@Override	public void setTotalMoneySuccessed(String arg0, long arg1) {	}	@Override	protected void onResume() {		super.onResume();		 		getMoney();	}	@Override	public void spendMoneyFailed(String arg0) {		try {			if (cishu > 3) {				return;			}			DevInit.spendMoney(this, (int) point, this);			cishu++;		} catch (Exception e) {		}	}	@Override	public void spendMoneySuccess(long arg0) {	}	}