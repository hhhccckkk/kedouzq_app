package com.hck.zhuanqian.ui;import org.json.JSONObject;import android.os.Bundle;import android.os.Handler;import android.view.View;import android.webkit.WebView;import android.widget.TextView;import com.dc.wall.DianCai;import com.dc.wall.IEarnMoneyNotifier;import com.dc.wall.IQueryMoneyNotifier;import com.dc.wall.IReduceMoneyNotifier;import com.hck.httpserver.JsonHttpResponseHandler;import com.hck.httpserver.RequestParams;import com.hck.kedouzq.R;import com.hck.zhuanqian.data.Contans;import com.hck.zhuanqian.net.Request;import com.hck.zhuanqian.util.LogUtil;import com.hck.zhuanqian.view.MyToast;/** *  * @author *  */public class DianCaiActivity extends BaseActivity {    private int point;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        initAd();        setContentView(R.layout.activity_diancai);        initTitle("小财专区");        getAdInitData();        initDownSize(findViewById(R.id.down_size));        initView();    }    private void initView() {        initTitle("小财赚钱专区");        webView = (WebView) findViewById(R.id.dianle_webview);        initDate();    }    private void initDate() {        webView.loadUrl("file:///android_asset/xiaocai.html");    }    private void initAd() {        try {            DianCai.initApp(this, Contans.DIAN_CAI_ID, Contans.DIAN_CAI_KEY);            DianCai.setEarnMoneyListener(new IEarnMoneyNotifier() {                @Override                public void earnSuccess(int arg0, int arg1, String arg2) {                    LogUtil.D("earnSuccess: " + arg0 + arg1 + arg2);                    if (arg1 > 0) {                        handler.sendEmptyMessage(arg1);                    }                }                @Override                public void earnFailed(int arg0, int arg1, String arg2) {                    LogUtil.D("earnFailed: " + arg0 + arg1 + arg2);                }            });        } catch (Exception e) {            MyToast.showCustomerToast("初始化数据失败 请重试");            finish();        }    }    public void startGetMoney(View view) {        try {            DianCai.showOfferWall();        } catch (Exception e) {        }           }    Handler handler = new Handler() {        public void handleMessage(android.os.Message msg) {            point = 0;            point = msg.what;            if (point > 600) {                point = 150;            }            if (point > 0) {                savePoint(Contans.AD_NAME_DIANCAI, point);            }            huafei(point);        };    };    private void huafei(final int point) {        try {            DianCai.reduceMoney(point, new IReduceMoneyNotifier() {                @Override                public void reduceSuccess(int arg0) {                }                @Override                public void reduceFailed(int arg0) {                }            });        } catch (Exception e) {        }           }}