package com.hck.zhuanqian.ui;import org.json.JSONObject;import android.os.Bundle;import android.os.Handler;import android.os.Message;import android.view.View;import android.widget.TextView;import cn.aow.android.DAOW;import cn.aow.android.DListener;import com.hck.kedouzq.R;import com.hck.zhuanqian.data.Contans;import com.hck.zhuanqian.util.LogUtil;import com.hck.zhuanqian.view.MyToast;/** *  * @author *  */public class DuoMengActivity extends BaseActivity {    private boolean isFirst = true;    private int point;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        initAd();        setContentView(R.layout.activity_beiduo);        initTitle("小盟专区");        getAdInitData();        initDownSize(findViewById(R.id.down_size));    }    private void initAd() {        try {            DAOW.getInstance(this).init(this, "96ZJ39swzexVDwTD7j");        } catch (Exception e) {            MyToast.showCustomerToast("初始化数据失败 请重试 ");            finish();        }    }    public void startGetMoney(View view) {        isFirst = false;        try {            DAOW.getInstance(this).show(this);        } catch (Exception e) {            MyToast.showCustomerToast("初始化数据失败 请重试 ");        }    }    @Override    protected void onResume() {        super.onResume();        if (!isFirst) {            try {                DAOW.getInstance(this).checkPoints(new DListener() {                    @Override                    public void onResponse(Object... arg0) {                        try {                            if (arg0 != null) {                                Integer all = (Integer) arg0[1];                                Integer xiaofei = (Integer) arg0[0];                                int jinb = all - xiaofei;                                point = jinb;                                if (point > 0) {                                    Message message = new Message();                                    message.what = (int) point;                                    handler.sendMessage(message);                                }                            }                        } catch (Exception e) {                        }                    }                    @Override                    public void onError(String arg0) {                    }                });            } catch (Exception e) {            }        }    }    Handler handler = new Handler() {        public void handleMessage(android.os.Message msg) {            point = 0;            point = msg.what;            if (point > 600) {                point = 150;            }            if (point > 0) {                savePoint(Contans.AD_NAME_DUOMENG, point);            }            huafei(point);        };    };    private void huafei(int point) {        try {            DAOW.getInstance(this).consumePoints(point, new DListener() {                @Override                public void onResponse(Object... arg0) {                }                @Override                public void onError(String arg0) {                }            });        } catch (Exception e) {        }    }}